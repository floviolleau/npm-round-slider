!function($,window,undefined){"use strict";function $proxy(t,e){return"function"==typeof $.proxy?$.proxy(t,e):function(i){t.call(e,i)}}function $data(t,e,i){return"function"==typeof $.data?$.data(t,e,i):i?void 0:$(t).hasClass("rs-control")}function $isPlainObject(t){if("function"==typeof $.isPlainObject)return $.isPlainObject(t);var e=JSON.stringify(t);return"object"==typeof t&&t.length===undefined&&e.length>2&&"{"===e.substr(0,1)&&"}"===e.substr(e.length-1)}function isNumber(t){return t=parseFloat(t),"number"==typeof t&&!isNaN(t)}function createElement(t){var e=t.split(".");return $(document.createElement(e[0])).addClass(e[1]||"")}function getdistance(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function setTransform(t,e){return t.css("-webkit-transform","rotate("+e+"deg)"),t.css("-moz-transform","rotate("+e+"deg)"),t.css("-ms-transform","rotate("+e+"deg)"),t.css("-o-transform","rotate("+e+"deg)"),t.css("transform","rotate("+e+"deg)"),t}function RoundSlider(t,e){t.id&&(window[t.id]=this),this.control=$(t),this.options=$.extend({},this.defaults,e),this._raise("beforeCreate")!==!1?(this._init(),this._raise("create")):this._removeData()}function CreateRoundSlider(t,e){for(var i=0;i<this.length;i++){var s=this[i],n=$data(s,pluginName);if(n){if($isPlainObject(t))"function"==typeof n.option?n.option(t):s.id&&window[s.id]&&"function"==typeof window[s.id].option&&window[s.id].option(t);else if("string"==typeof t&&"function"==typeof n[t]){if(("option"===t||0===t.indexOf("get"))&&e[2]===undefined)return n[t](e[1]);n[t](e[1],e[2])}}else $data(s,pluginName,new RoundSlider(s,t))}return this}var pluginName="roundSlider";$.fn[pluginName]=function(t){return CreateRoundSlider.call(this,t,arguments)},RoundSlider.prototype={pluginName:pluginName,version:"1.3",options:{},defaults:{min:0,max:100,step:1,value:null,radius:85,width:18,handleSize:"+0",startAngle:0,endAngle:"+360",animation:!0,showTooltip:!0,editableTooltip:!0,readOnly:!1,disabled:!1,keyboardAction:!0,mouseScrollAction:!1,lineCap:"square",sliderType:"default",circleShape:"full",handleShape:"round",beforeCreate:null,create:null,start:null,drag:null,change:null,stop:null,tooltipFormat:null},_props:function(){return{numberType:["min","max","step","radius","width","startAngle"],booleanType:["animation","showTooltip","editableTooltip","readOnly","disabled","keyboardAction","mouseScrollAction"],stringType:["sliderType","circleShape","handleShape","lineCap"]}},control:null,_init:function(){if(this._isBrowserSupport=this._isBrowserSupported(),this._isKO=!1,this._isAngular=!1,this._onInitRendering=!1,this.control.is("input")){this._isInputType=!0,this._hiddenField=this.control,this.control=createElement("div"),this.control.insertAfter(this._hiddenField),this.options.value=this._hiddenField.val()||this.options.value;var t=this;this._checkKO()&&setTimeout(function(){t._checkKO()},1),this._checkAngular()}this._bindOnDrag=!1;var e=this._dataElement().attr("data-updateon");"string"==typeof e?"drag"===e&&(this._bindOnDrag=!0):this._isAngular&&(this._bindOnDrag=!0),this._onInit()},_onInit:function(){this._initialize(),this._update(),this._render()},_initialize:function(){this._isBrowserSupport&&(this._isReadOnly=!1,this._checkDataType(),this._refreshCircleShape())},_render:function(){if(this.container=createElement("div.rs-container"),this.innerContainer=createElement("div.rs-inner-container"),this.block=createElement("div.rs-block rs-outer rs-border"),this.container.append(this.innerContainer.append(this.block)),this.control.addClass("rs-control").empty().append(this.container),this._setRadius(),this._isBrowserSupport)this._blocks=[],this._createLayers(),this._setProperties(),this._setValue(),this._updateTooltipPos(),this._bindControlEvents("_bind"),this._checkIE();else{var t=createElement("div.rs-msg");t.html("function"==typeof this._throwError?this._throwError():this._throwError),this.control.empty().addClass("rs-error").append(t),this._isInputType&&this.control.append(this._dataElement())}},_update:function(){this._validateSliderType(),this._updateStartEnd(),this._validateStartEnd(),this._analyzeModelValue(),this._validateModelValue()},_createLayers:function(){var t=this.options.width,e=this._start,i=createElement("div.rs-path rs-transition");if(this._multiRangeSlider||this._showRange){for(var s,n,a=0;a<this._handles.length;a++)s=i.clone().addClass("rs-range-color-"+a).rsRotate(e),n=i.clone().addClass("rs-path-color-"+a).rsRotate(e),this._blocks.push(s),this._blocks.push(n),this.block.append(s),this.block.append(n);this.block.addClass("rs-split")}else this.block.append(i.addClass("rs-path-color"));this.lastBlock=createElement("span.rs-block").css({padding:t}),this.innerBlock=createElement("div.rs-inner rs-bg-color rs-border"),this.lastBlock.append(this.innerBlock),this.block.append(this.lastBlock),this._appendHandle(),this._appendOverlay(),this._appendHiddenField()},_setProperties:function(){this._updatePre(),this._setHandleShape(),this._addAnimation(),this._appendTooltip(),this.options.showTooltip||this._removeTooltip(),this.options.disabled?this.disable():this.options.readOnly&&this._readOnly(!0),this.options.mouseScrollAction&&this._bindScrollEvents("_bind")},_updatePre:function(){this._prechange=this._predrag=this.options.value},_setValue:function(){if(this._multiRangeSlider)for(var t=0;t<this._handles.length;t++)this._setHandleValue(t);else{this._showRange&&this._setHandleValue(0);var e="default"===this.options.sliderType?this._active||0:parseFloat(this.bar.children().attr("index"));this._setHandleValue(e)}},_appendTooltip:function(){0===this.container.children(".rs-tooltip").length&&(this.tooltip=createElement("span.rs-tooltip rs-tooltip-text"),this.container.append(this.tooltip),this._tooltipEditable(),this._updateTooltip())},_removeTooltip:function(){0!==this.container.children(".rs-tooltip").length&&this.tooltip&&this.tooltip.remove()},_tooltipEditable:function(){if(this.tooltip&&this.options.showTooltip){var t;this.options.editableTooltip?(this.tooltip.addClass("edit"),t="_bind"):(this.tooltip.removeClass("edit"),t="_unbind"),this[t](this.tooltip,"click",this._editTooltip)}},_editTooltip:function(t){if(this.tooltip.hasClass("edit")&&!this._isReadOnly){var e=2*parseFloat(this.tooltip.css("border-left-width"));this.input=createElement("input.rs-input rs-tooltip-text").css({height:this.tooltip.outerHeight()-e,width:this.tooltip.outerWidth()-e}),this.tooltip.html(this.input).removeClass("edit").addClass("hover"),this.input.focus().val(this._getTooltipValue(!0)),this._bind(this.input,"blur",this._focusOut),this._bind(this.input,"change",this._focusOut)}},_focusOut:function(t){"change"===t.type?(this.options.value=this.input.val().split(" - ").join(","),this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this.input.val(this._getTooltipValue(!0))):(this.tooltip.addClass("edit").removeClass("hover"),this._updateTooltip()),this._raiseEvent("change")},_setHandleShape:function(){var t=this.options.handleShape;this._getHandles().removeClass("rs-handle-dot rs-handle-square"),"dot"===t?this._getHandles().addClass("rs-handle-dot"):"square"===t?this._getHandles().addClass("rs-handle-square"):this.options.handleShape=this.defaults.handleShape},_setHandleValue:function(t){this._active=t;var e=this._handles[t];"min-range"!==this.options.sliderType&&(this.bar=this._activeHandleBar()),this._changeSliderValue(e.value,e.angle)},_setAnimation:function(){this.options.animation?this._addAnimation():this._removeAnimation()},_addAnimation:function(){this.options.animation&&this.control.addClass("rs-animation")},_removeAnimation:function(){this.control.removeClass("rs-animation")},_setRadius:function(){var t=this.options.radius,e=2*t,i=this.options.circleShape,s=e,n=e;if(this.container.removeClass().addClass("rs-container"),0===i.indexOf("half")){switch(i){case"half-top":case"half-bottom":s=t,n=e;break;case"half-left":case"half-right":s=e,n=t}this.container.addClass(i.replace("half-","")+" half")}else if(0===i.indexOf("quarter")){s=n=t;var a=i.split("-");this.container.addClass(a[0]+" "+a[1]+" "+a[2])}else this.container.addClass("full "+i);var o={height:s,width:n};this.control.css(o),this.container.css(o)},_border:function(t){return t?parseFloat(this._startLine.children().css("border-bottom-width")):2*parseFloat(this.block.css("border-top-width"))},_appendHandle:function(){if(this._multiRangeSlider)for(var t=0;t<this._handles.length;t++)this._createHandle(t);this._startLine=this._addSeperator(this._start,"rs-start"),this._endLine=this._addSeperator(this._start+this._end,"rs-end"),this._refreshSeperator()},_addSeperator:function(t,e){var i=createElement("span.rs-seperator rs-border"),s=createElement("span.rs-bar rs-transition "+e).append(i).rsRotate(t);return this.container.append(s),s},_refreshSeperator:function(){var t=this._startLine.add(this._endLine),e=t.children().removeAttr("style"),i=this.options,s=i.width,n=this._border(),a=s+n;"round"===i.lineCap&&"full"!==i.circleShape?(t.addClass("rs-rounded"),e.css({width:a,height:a/2+1}),this._startLine.children().css("margin-top",-1).addClass("min-range"===i.sliderType?"rs-range-color":"rs-path-color"),this._endLine.children().css("margin-top",a/-2).addClass("rs-path-color")):(t.removeClass("rs-rounded"),e.css({width:a,"margin-top":this._border(!0)/-2}).removeClass("rs-range-color rs-path-color"))},_updateSeperator:function(){this._startLine.rsRotate(this._start),this._endLine.rsRotate(this._start+this._end)},_createHandle:function(t){var e=createElement("div.rs-handle rs-move"),i=this.options.handleShape;"round"!==i&&e.addClass("rs-handle-"+i),e.attr({index:t,tabIndex:"0"});var s=this._dataElement()[0].id,s=s?s+"_":"",n=s+"handle";this._multiRangeSlider&&(n+="_",0===t?n+="start":t===this._handles[this._handles.length-1]&&(n+="end")),e.attr({role:"slider","aria-label":n});var a=createElement("div.rs-bar rs-transition").css("z-index","7").append(e).rsRotate(this._start);return this._multiRangeSlider&&a.addClass("rs-index-"+t),this.container.append(a),this._refreshHandle(),this.bar=a,this._active=t,"undefined"==typeof t&&this._handles.push(this._handleDefaults()),this._bind(e,"focus",this._handleFocus),this._bind(e,"blur",this._handleBlur),e},_refreshHandle:function(){var hSize=this.options.handleSize,isSquare=!0;if("string"==typeof hSize&&isNumber(hSize))if("+"===hSize.charAt(0)||"-"===hSize.charAt(0))try{hSize=eval(this.options.width+hSize.charAt(0)+Math.abs(parseFloat(hSize)))}catch(t){console.warn(t)}else if(hSize.indexOf(",")){var s=hSize.split(",");if(isNumber(s[0])&&isNumber(s[1])){var w=parseFloat(s[0]),h=parseFloat(s[1]);isSquare=!1}}isSquare&&(h=w=isNumber(hSize)?parseFloat(hSize):this.options.width);var diff=(this.options.width+this._border()-w)/2;this._getHandles().css({height:h,width:w,margin:-h/2+"px 0 0 "+diff+"px"})},_handleDefaults:function(){return{angle:this._valueToAngle(this.options.min),value:this.options.min}},_getHandles:function(){return this.container.children("div.rs-bar").find(".rs-handle")},_activeHandleBar:function(t){return t=t!==undefined?t:this._active,$(this.container.children("div.rs-bar")[t])},_handleArgs:function(t){t=t!==undefined?t:this._active;var e=this._handles[t];return{element:this._activeHandleBar(t).children(),index:t,isActive:t===this._active,value:e?e.value:null,angle:e?e.angle:null}},_dataElement:function(){return this._isInputType?this._hiddenField:this.control},_raiseEvent:function(t){var e=this["_pre"+t];if(e!==this.options.value)return this["_pre"+t]=this.options.value,this._updateTooltip(),("change"===t||this._bindOnDrag&&"drag"===t)&&this._updateHidden(),this._raise(t,{value:this.options.value,preValue:e,handle:this._handleArgs()})},_elementDown:function(t){if(!this._isReadOnly){var e=$(t.target);if(e.hasClass("rs-handle"))this._handleDown(t);else{var i=this._getXY(t),s=this._getCenterPoint(),n=getdistance(i,s),a=this.block.outerWidth()/2,o=a-(this.options.width+this._border());if(n>=o&&n<=a){t.preventDefault();var r,h;if(this.control.attr("tabindex","0").focus().removeAttr("tabindex"),e.hasClass("rs-seperator"))h=e.parent().hasClass("rs-start")?this.options.min:this.options.max,r=this._valueToAngle(h);else{var l=this._getAngleValue(i,s);r=l.angle,h=l.value}if(this._multiRangeSlider){var d=this.control.find(".rs-handle.rs-focus");1===d.length?this._active=parseFloat(d.attr("index")):this._active=this._closestIndex(this._handles,h,"value"),this.bar=this._activeHandleBar()}this._changeSliderValue(h,r),this._raiseEvent("change")}}}},_handleDown:function(t){t.preventDefault();var e=$(t.target);e.focus(),this._removeAnimation(),this._bindMouseEvents("_bind"),this.bar=e.parent(),this._active=parseFloat(e.attr("index")),this._getHandles().removeClass("rs-move"),this._raise("start",{value:this.options.value,handle:this._handleArgs()})},_handleMove:function(t){t.preventDefault();var e=this._getXY(t),i=this._getCenterPoint(),s=this._getAngleValue(e,i,!0),n=s.angle,a=s.value;this._changeSliderValue(a,n),this._raiseEvent("drag")},_handleUp:function(t){this._getHandles().addClass("rs-move"),this._bindMouseEvents("_unbind"),this._addAnimation(),this._raiseEvent("change"),this._raise("stop",{value:this.options.value,handle:this._handleArgs()})},_handleFocus:function(t){if(!this._isReadOnly){var e=$(t.target);this._getHandles().removeClass("rs-focus"),e.addClass("rs-focus"),this.bar=e.parent(),this._active=parseFloat(e.attr("index")),this.options.keyboardAction&&(this._bindKeyboardEvents("_unbind"),this._bindKeyboardEvents("_bind")),this.control.find("div.rs-bar").css("z-index","7"),this.bar.css("z-index","8")}},_handleBlur:function(t){this._getHandles().removeClass("rs-focus"),this.options.keyboardAction&&this._bindKeyboardEvents("_unbind")},_handleKeyDown:function(t){if(!this._isReadOnly){var e=t.keyCode;if(27===e&&this._getHandles().blur(),e>=35&&e<=40){e>=37&&e<=40&&this._removeAnimation();var i,s=this._handles[this._active];t.preventDefault(),38===e||37===e?i=this._round(this._limitValue(s.value+this.options.step)):39===e||40===e?i=this._round(this._limitValue(s.value-this._getMinusStep(s.value))):36===e?i=this._getKeyValue("Home"):35===e&&(i=this._getKeyValue("End"));var n=this._valueToAngle(i);this._changeSliderValue(i,n),this._raiseEvent("change")}}},_handleKeyUp:function(t){this._addAnimation()},_getMinusStep:function(t){if(t===this.options.max){var e=(this.options.max-this.options.min)%this.options.step;return 0===e?this.options.step:e}return this.options.step},_getKeyValue:function(t){return this._rangeSlider?"Home"===t?0===this._active?this.options.min:this._handles[0].value:0===this._active?this._handles[this._handles.length-1].value:this.options.max:"Home"===t?this.options.min:this.options.max},_elementScroll:function(t){if(!this._isReadOnly){t.preventDefault();var e=t.originalEvent||t,i=e.wheelDelta?e.wheelDelta/60:e.detail?-e.detail/2:0;if(0!==i){this._updateActiveHandle(t);var s=this["_handle"+this._active],n=s.value+(i>0?this.options.step:-this._getMinusStep(s.value));n=this._limitValue(n);var a=this._valueToAngle(n);this._removeAnimation(),this._changeSliderValue(n,a),this._raiseEvent("change"),this._addAnimation()}}},_updateActiveHandle:function(t){var e=$(t.target);e.hasClass("rs-handle")&&e.parent().parent()[0]===this.control[0]&&(this.bar=e.parent(),this._active=parseFloat(e.attr("index"))),this.bar.find(".rs-handle").hasClass("rs-focus")||this.bar.find(".rs-handle").focus()},_bindControlEvents:function(t){this[t](this.control,"mousedown",this._elementDown),this[t](this.control,"touchstart",this._elementDown)},_bindScrollEvents:function(t){this[t](this.control,"mousewheel",this._elementScroll),this[t](this.control,"DOMMouseScroll",this._elementScroll)},_bindMouseEvents:function(t){this[t]($(document),"mousemove",this._handleMove),this[t]($(document),"mouseup",this._handleUp),this[t]($(document),"mouseleave",this._handleUp),this[t]($(document),"touchmove",this._handleMove),this[t]($(document),"touchend",this._handleUp),this[t]($(document),"touchcancel",this._handleUp)},_bindKeyboardEvents:function(t){this[t]($(document),"keydown",this._handleKeyDown),this[t]($(document),"keyup",this._handleKeyUp)},_changeSliderValue:function(t,e){var i=this._oriAngle(e),s=this._limitAngle(e);if(this._multiRangeSlider)var n=i,a=this._oriAngle(this._handles[this._modulo(this._active+1,this._handles.length)].angle),o=this._oriAngle(this._handles[this._modulo(this._active+this._handles.length-1,this._handles.length)].angle),r=a>o?!(n>a||n<o):!(n>a&&n<o);if(this._multiRangeSlider||this._showRange){if(r){if(this._handles[this._active]={angle:e,value:t},console.log(this._active),this._multiRangeSlider){this.options.value="";for(var h=0;h<this._handles.length;h++)0===h?this.options.value+=this._handles[h].value:this.options.value+=","+this._handles[h].value}else this.options.value=t;this.bar.rsRotate(s),this._updateARIA(t),this._blocks[2*this._active].rsRotate(s),this._blocks[2*this._active+1].rsRotate(s-180)}}else this._handles[this._active]={angle:e,value:t},this.options.value=t,this.bar.rsRotate(s),this._updateARIA(t)},_updateARIA:function(t){var e=this.options.min,i=this.options.max;if(this.bar.children().attr({"aria-valuenow":t}),this._multiRangeSlider){var s=this._getHandles();s.eq(0).attr({"aria-valuemin":e}),s.eq(s.length-1).attr({"aria-valuemax":i}),1===this._active?s.eq(s.length-1).attr({"aria-valuemin":t}):s.eq(0).attr({"aria-valuemax":t})}else this.bar.children().attr({"aria-valuemin":e,"aria-valuemax":i})},_checkKO:function(){var t=this._dataElement().data("bind");if("string"==typeof t&&"object"==typeof ko){var e=ko.dataFor(this._dataElement()[0]);if("undefined"==typeof e)return!0;for(var i,s=t.split(","),n=0;n<s.length;n++){var a=s[n].split(":");if("value"===$.trim(a[0])){i=$.trim(a[1]);break}}i&&(this._isKO=!0,ko.computed(function(){this.option("value",e[i]())},this))}},_checkAngular:function(){if("object"==typeof angular&&"function"==typeof angular.element&&(this._ngName=this._dataElement().attr("ng-model"),"string"==typeof this._ngName)){this._isAngular=!0;var t=this;this._scope().$watch(this._ngName,function(e,i){t.option("value",e)})}},_scope:function(){return angular.element(this._dataElement()).scope()},_getXY:function(t){return t.type.indexOf("mouse")===-1&&(t=(t.originalEvent||t).changedTouches[0]),{x:t.pageX,y:t.pageY}},_getCenterPoint:function(){var t=this.block.offset();return{x:t.left+this.block.outerWidth()/2,y:t.top+this.block.outerHeight()/2}},_getAngleValue:function(t,e,i){var s=Math.atan2(t.y-e.y,e.x-t.x),n=-s/(Math.PI/180);return n<this._start&&(n+=360),n=this._checkAngle(n,i),this._processStepByAngle(n)},_checkAngle:function(t,e){var i=this._oriAngle(t),s=this._handles[this._active].angle,n=this._oriAngle(s);if(i>this._end){if(!e)return s;t=this._start+(n<=this._end-n?0:this._end)}else if(e){var a=this._handleDragDistance;if(isNumber(a)&&Math.abs(i-n)>a)return s}return t},_processStepByAngle:function(t){var e=this._angleToValue(t);return this._processStepByValue(e)},_processStepByValue:function(t){var e,i=this.options.step,s=(t-this.options.min)%i,n=t-s,a=this._limitValue(n+i),o=this._limitValue(n-i);e=t>=n?t-n<a-t?n:a:n-t>t-o?n:o,e=this._round(e);var r=this._valueToAngle(e);return{value:e,angle:r}},_round:function(t){var e=this.options.step.toString().split(".");return e[1]?parseFloat(t.toFixed(e[1].length)):Math.round(t)},_oriAngle:function(t){var e=t-this._start;return e<0&&(e+=360),e},_limitAngle:function(t){return t>360+this._start&&(t-=360),t<this._start&&(t+=360),t},_limitValue:function(t){return t<this.options.min&&(t=this.options.min),t>this.options.max&&(t=this.options.max),t},_angleToValue:function(t){return this._oriAngle(t)/this._end*(this.options.max-this.options.min)+this.options.min},_valueToAngle:function(t){var e=this.options;return(t-e.min)/(e.max-e.min)*this._end+this._start},_modulo:function(t,e){return(t%e+e)%e},_closestIndex:function(t,e,i){var s,n=0,a=1e3;for(n in t){if(i)var o=Math.abs(e-t[n][i]);else var o=Math.abs(e-t[n]);o<a&&(a=o,s=n)}return parseInt(s)},_appendHiddenField:function(){this._hiddenField=this._hiddenField||createElement("input"),this._hiddenField.attr({type:"hidden",name:this._dataElement()[0].id||""}),this.control.append(this._hiddenField),this._updateHidden()},_updateHidden:function(){var t=this.options.value;this._hiddenField.val(t),(this._isKO||this._isAngular)&&this._hiddenField.trigger("change"),this._isAngular&&(this._scope()[this._ngName]=t)},_updateTooltip:function(){this.tooltip&&!this.tooltip.hasClass("hover")&&this.tooltip.html(this._getTooltipValue()),this._updateTooltipPos()},_updateTooltipPos:function(){this.tooltip&&this.tooltip.css(this._getTooltipPos())},_getTooltipPos:function(){var t,e=this.options.circleShape;if("full"===e||"pie"===e||0===e.indexOf("custom"))return{"margin-top":-this.tooltip.outerHeight()/2,"margin-left":-this.tooltip.outerWidth()/2};if(e.indexOf("half")!==-1){switch(e){case"half-top":case"half-bottom":t={"margin-left":-this.tooltip.outerWidth()/2};break;case"half-left":case"half-right":t={"margin-top":-this.tooltip.outerHeight()/2}}return t}return{}},_getTooltipValue:function(t){if(this._multiRangeSlider){var e=this.options.value.split(",");if(t){for(var i="",s=0;s<e.length;s++)i+=0===s?e[s]:" - "+e[s];return i}for(var i="",s=0;s<e.length;s++)i+=0===s?this._tooltipValue(e[s],s):" - "+this._tooltipValue(e[s],s);return i}return t?this.options.value:this._tooltipValue(this.options.value)},_tooltipValue:function(t,e){var i=this._raise("tooltipFormat",{value:t,handle:this._handleArgs(e)});return null!==i&&"boolean"!=typeof i?i:t},_validateStartAngle:function(){var t=this.options.startAngle;return t=(isNumber(t)?parseFloat(t):0)%360,t<0&&(t+=360),this.options.startAngle=t,t},_validateEndAngle:function(){var end=this.options.endAngle;if("string"==typeof end&&isNumber(end)&&("+"===end.charAt(0)||"-"===end.charAt(0)))try{end=eval(this.options.startAngle+end.charAt(0)+Math.abs(parseFloat(end)))}catch(t){console.warn(t)}return end=(isNumber(end)?parseFloat(end):360)%360,end<=this.options.startAngle&&(end+=360),end},_refreshCircleShape:function(){var t=this.options.circleShape,e=["half-top","half-bottom","half-left","half-right","quarter-top-left","quarter-top-right","quarter-bottom-right","quarter-bottom-left","pie","custom-half","custom-quarter"],i=["h1","h2","h3","h4","q1","q2","q3","q4","3/4","ch","cq"];if(e.indexOf(t)===-1){var s=i.indexOf(t);t=s!==-1?e[s]:"half"===t?"half-top":"quarter"===t?"quarter-top-left":"full"}this.options.circleShape=t},_appendOverlay:function(){var t=this.options.circleShape;"pie"===t?this._checkOverlay(".rs-overlay",270):"custom-half"!==t&&"custom-quarter"!==t||(this._checkOverlay(".rs-overlay1",180),"custom-quarter"===t&&this._checkOverlay(".rs-overlay2",this._end))},_checkOverlay:function(t,e){var i=this.container.children(t);0===i.length&&(i=createElement("div"+t+" rs-transition rs-bg-color"),this.container.append(i)),i.rsRotate(this._start+e)},_checkDataType:function(){var t,e,i,s=this.options,n=this._props();for(t in n.numberType)e=n.numberType[t],i=s[e],isNumber(i)?s[e]=parseFloat(i):s[e]=this.defaults[e];for(t in n.booleanType)e=n.booleanType[t],i=s[e],s[e]="false"!==i&&!!i;for(t in n.stringType)e=n.stringType[t],i=s[e],s[e]=(""+i).toLowerCase()},_validateSliderType:function(){var t=this.options.sliderType.toLowerCase();this._multiRangeSlider=this._showRange=!1,"multi-range"===t?this._multiRangeSlider=this._showRange=!0:t.indexOf("min")!==-1?(this._showRange=!0,t="min-range"):t="default",this.options.sliderType=t},_updateStartEnd:function(){var t=this.options.circleShape;"full"!==t&&(t.indexOf("quarter")!==-1?this.options.endAngle="+90":t.indexOf("half")!==-1?this.options.endAngle="+180":"pie"===t&&(this.options.endAngle="+270"),"quarter-top-left"===t||"half-top"===t?this.options.startAngle=0:"quarter-top-right"===t||"half-right"===t?this.options.startAngle=90:"quarter-bottom-right"===t||"half-bottom"===t?this.options.startAngle=180:"quarter-bottom-left"!==t&&"half-left"!==t||(this.options.startAngle=270))},_validateStartEnd:function(){this._start=this._validateStartAngle(),this._end=this._validateEndAngle();var t=this._start<this._end?0:360;this._end+=t-this._start},_analyzeModelValue:function(){var t,e,i=this.options.value,s=this.options.min,n=this.options.max;i instanceof Array&&(i=i.toString());var a="string"==typeof i?i.split(","):[i];this._handles=[];for(var o=0;o<a.length;o++)this._handles.push(this._handleDefaults());if(this._multiRangeSlider)if("string"==typeof i)if(a.length>=2){e="",a.sort(function(t,e){return t.localeCompare(e)});for(var o=0;o<a.length;o++)e+=o===a.length-1?isNumber(a[o])?a[o]:n:(isNumber(a[o])?a[o]:s)+","}else e=isNumber(a[0])?s+","+a[0]:s+","+s;else e=isNumber(i)?s+","+i:s+","+s;else"string"==typeof i?(t=a.pop(),e=isNumber(t)?parseFloat(t):s):e=isNumber(i)?parseFloat(i):s;this.options.value=e},_validateModelValue:function(){var t,e=this.options.value;if(this._multiRangeSlider){for(var i=e.split(","),s="",n=0;n<i.length;n++)t=this._limitValue(parseFloat(i[n])),this._handles[n]=this._processStepByValue(t),s+=0===n?this._handles[n].value:","+this._handles[n].value;this.options.value=s}else{var a=this._showRange?1:this._active||0;this._handles[a]=this._processStepByValue(this._limitValue(e)),this._showRange&&(this._handles[0]=this._handleDefaults()),this.options.value=this._handles[a].value}},_isBrowserSupported:function(){for(var t=["borderRadius","WebkitBorderRadius","MozBorderRadius","OBorderRadius","msBorderRadius","KhtmlBorderRadius"],e=0;e<t.length;e++)if(document.body.style[t[e]]!==undefined)return!0},_throwError:function(){return"This browser doesn't support the border-radious property."},_checkIE:function(){var t=window.navigator.userAgent;(t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0)&&this.control.css({"-ms-touch-action":"none","touch-action":"none"})},_raise:function(t,e){var i=this.options,s=i[t],n=!0;return e=e||{value:i.value},e.options=i,s&&(e.type=t,"string"==typeof s&&(s=window[s]),$.isFunction(s)&&(n=s.call(this,e),n=n!==!1&&n)),this.control.trigger($.Event?$.Event(t,e):t),n},_bind:function(t,e,i){$(t).bind(e,$proxy(i,this))},_unbind:function(t,e,i){$.proxy?$(t).unbind(e,$.proxy(i,this)):$(t).unbind(e)},_getInstance:function(){return $data(this._dataElement()[0],pluginName)},_removeData:function(){var t=this._dataElement()[0];$.removeData&&$.removeData(t,pluginName),t.id&&delete window[t.id]},_destroyControl:function(){this._isInputType&&this._dataElement().insertAfter(this.control).attr("type","text"),this.control.empty().removeClass("rs-control").height("").width(""),this._removeAnimation(),this._bindControlEvents("_unbind")},_updateWidth:function(){this.lastBlock.css("padding",this.options.width),this._refreshHandle()},_readOnly:function(t){this._isReadOnly=t,this.container.removeClass("rs-readonly"),t&&this.container.addClass("rs-readonly")},_get:function(t){return this.options[t]},_set:function(t,e){var i=this._props();if($.inArray(t,i.numberType)!==-1){if(!isNumber(e))return;e=parseFloat(e)}else $.inArray(t,i.booleanType)!==-1?e="false"!==e&&!!e:$.inArray(t,i.stringType)!==-1&&(e=e.toLowerCase());if(this.options[t]!==e){switch(this.options[t]=e,t){case"startAngle":case"endAngle":this._validateStartEnd(),this._updateSeperator(),this._appendOverlay();case"min":case"max":case"step":case"value":this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this._updatePre(),this._updateHidden(),this._updateTooltip();break;case"radius":this._setRadius(),this._updateTooltipPos();break;case"width":this._removeAnimation(),this._updateWidth(),this._updateTooltipPos(),this._addAnimation(),this._refreshSeperator();break;case"handleSize":this._refreshHandle();break;case"handleShape":this._setHandleShape();break;case"animation":this._setAnimation();break;case"showTooltip":this.options.showTooltip?this._appendTooltip():this._removeTooltip();break;case"editableTooltip":this._tooltipEditable(),this._updateTooltipPos();break;case"disabled":this.options.disabled?this.disable():this.enable();break;case"readOnly":this.options.readOnly?this._readOnly(!0):!this.options.disabled&&this._readOnly(!1);break;case"mouseScrollAction":this._bindScrollEvents(this.options.mouseScrollAction?"_bind":"_unbind");break;case"lineCap":this._refreshSeperator();break;case"circleShape":this._refreshCircleShape(),"full"===this.options.circleShape&&(this.options.startAngle=0,this.options.endAngle="+360");case"sliderType":this._destroyControl(),this._onInit()}return this}},option:function(t,e){if(this._getInstance()&&this._isBrowserSupport){if($isPlainObject(t)){t.min===undefined&&t.max===undefined||(t.min!==undefined&&(this.options.min=t.min,delete t.min),t.max!==undefined&&(this.options.max=t.max,delete t.max),t.value===undefined&&this._set("value",this.options.value));for(var i in t)this._set(i,t[i])}else if(t&&"string"==typeof t){if(e===undefined)return this._get(t);this._set(t,e)}return this}},getValue:function(t){if("range"===this.options.sliderType&&isNumber(t)){var e=parseFloat(t);return this._handles[e].value}return this._get("value")},setValue:function(t,e){if(isNumber(t)){if(isNumber(e))if(this._multiRangeSlider)for(var i=0;i<this._handles.length;i++)t+=0===i?this._handles[i].value:","+this._handles[i].value;else"default"===this.options.sliderType&&(this._active=e);this._set("value",t)}},disable:function(){this.options.disabled=!0,this.container.addClass("rs-disabled"),this._readOnly(!0)},enable:function(){this.options.disabled=!1,this.container.removeClass("rs-disabled"),this.options.readOnly||this._readOnly(!1)},destroy:function(){this._getInstance()&&(this._destroyControl(),this._removeData(),this._isInputType&&this.control.remove())}},$.fn.rsRotate=function(t){return setTransform(this,t)},"undefined"==typeof $.fn.outerHeight&&($.fn.outerHeight=function(){return this[0].offsetHeight},$.fn.outerWidth=function(){return this[0].offsetWidth}),"undefined"==typeof $.fn.hasClass&&($.fn.hasClass=function(t){return this[0].className.split(" ").indexOf(t)!==-1}),"undefined"==typeof $.fn.offset&&($.fn.offset=function(){return{left:this[0].offsetLeft,top:this[0].offsetTop}}),$.fn[pluginName].prototype=RoundSlider.prototype}(jQuery,window);